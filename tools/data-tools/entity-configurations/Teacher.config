##############begin###############
<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2012 sp1 (http://www.altova.com)-->
<InterchangeStaffAssociation xsi:schemaLocation="http://ed-fi.org/0100 Interchange-StaffAssociation.xsd" xmlns="http://ed-fi.org/0100" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

############end############
</InterchangeStaffAssociation>

 ##########mainTemplate#########
	<Teacher id="ID_1">
		<StaffUniqueStateId>--StaffUniqueStateId--</StaffUniqueStateId>

==StaffIdentificationCode==

		<Name Verification="--Verification--">
			<PersonalTitlePrefix>--PersonalTitlePrefix--</PersonalTitlePrefix>
			<FirstName>--FirstName--</FirstName>
			<MiddleName>--MiddleName--</MiddleName>
			<LastSurname>--LastSurname--</LastSurname>
			<GenerationCodeSuffix>--GenerationCodeSuffix--</GenerationCodeSuffix>
			<MaidenName>--MaidenName--</MaidenName>
		</Name>

==OtherName==

		<Sex>--Sex--</Sex>
		<BirthDate>--BirthDate--</BirthDate>

==Address==

==Telephone==

   ==ElectronicMail==

		<HispanicLatinoEthnicity>--HispanicLatinoEthnicity--</HispanicLatinoEthnicity>
		<OldEthnicity>--OldEthnicity--</OldEthnicity>
		<Race>
   ==RacialCategory==  	
		</Race>
		<HighestLevelOfEducationCompleted>--HighestLevelOfEducationCompleted--</HighestLevelOfEducationCompleted>
		<YearsOfPriorProfessionalExperience>--YearsOfPriorProfessionalExperience--</YearsOfPriorProfessionalExperience>
		<YearsOfPriorTeachingExperience>--YearsOfPriorTeachingExperience--</YearsOfPriorTeachingExperience>

==Credentials==

		<LoginId>--LoginId--</LoginId>
		<TeacherUniqueStateId>--TeacherUniqueStateId--</TeacherUniqueStateId>
		<HighlyQualifiedTeacher>--HighlyQualifiedTeacher--</HighlyQualifiedTeacher>
	</Teacher>

##########mainQuery##############
SELECT a.StaffUSI
	,a.StaffUSI as StaffUniqueStateId
	,c.CodeValue as PersonalTitlePrefix 
	,d.CodeValue as Verification 
	,FirstName 
	,MiddleName 
	,LastSurname 
	,e.CodeValue as GenerationCodeSuffix 
	,MaidenName 
	,null as Verification
	,b.CodeValue as Sex
	,BirthDate 
	,HispanicLatinoEthnicity 
	,g.CodeValue as OldEthnicity 
   	,f.Description as HighestLevelOfEducationCompleted 
	,YearsOfPriorProfessionalExperience 
	,YearsOfPriorTeachingExperience 
	,TeacherUSI as TeacherUniqueStateId
	,LoginId 
	,HighlyQualifiedTeacher 
FROM 	edfi.Staff as a  
LEFT JOIN edfi.SexType as b on a.SexTypeId= b.SexTypeID  
LEFT JOIN edfi.PersonalTitlePrefixType as c on a.PersonalTitlePrefixTypeId = c.PersonalTitlePrefixTypeId 
LEFT JOIN edfi.PersonalInformationVerificationType as d on a.PersonalInformationVerificationTypeId = d.PersonalInformationVerificationTypeId 
LEFT JOIN edfi.GenerationCodeSuffixType as e on a.GenerationCodeSuffixTypeId = e.GenerationCodeSuffixTypeId 
LEFT JOIN edfi.LevelOfEducationType as f on a.HighestLevelOfEducationCompletedTypeId = f.LevelOfEducationTypeId 
LEFT JOIN edfi.OldEthnicityType as g on a.OldEthnicityTypeId = g.OldEthnicityTypeId 
WHERE a.TeacherUSI is not null 
ORDER BY a.StaffUSI 

########StaffIdentificationCodeTemplate#######
		<StaffIdentificationCode IdentificationSystem="--IdentificationSystem--" AssigningOrganizationCode="--AssigningOrganizationCode--">
			<ID>--ID--</ID>
		</StaffIdentificationCode>

#######StaffIdentificationCodeQuery#######
SELECT a.StaffUSI
	,c.CodeValue as IdentificationSystem
	,b.IdentificationCode as ID
	,d.EducationOrganizationId as AssigningOrganizationCode
FROM	EDFI.Staff a
LEFT JOIN EdFi.StaffIdentificationCode AS b ON a.StaffUSI = b.StaffUSI
LEFT JOIN EdFi.StaffIdentificationSystemType AS c ON b.StaffIdentificationSystemTypeId = c.StaffIdentificationSystemTypeId
LEFT JOIN EdFi.StaffEducationOrgAssignmentAssociation AS d ON b.StaffUSI = d.StaffUSI
ORDER BY a.StaffUSI 

#######OtherNameTemplate#######
		<OtherName OtherNameType="--OtherNameType--">
			<PersonalTitlePrefix>--PersonalTitlePrefix--</PersonalTitlePrefix>
			<FirstName>--FirstName--</FirstName>
			<MiddleName>--MiddleName--</MiddleName>
			<LastSurname>--LastSurname--</LastSurname>
			<GenerationCodeSuffix>--GenerationCodeSuffix--</GenerationCodeSuffix>
		</OtherName>

#######OtherNameQuery#######
 SELECT a.StaffUSI 
		,ont.CodeValue as OtherNameType
		,d.CodeValue as PersonalTitlePrefix 
		,b.FirstName
		,b.MiddleName
		,b.LastSurname
		,b.GenerationCodeSuffixTypeId as GenerationCodeSuffix
 FROM EdFi.Staff AS a 
 LEFT JOIN EdFi.StaffOtherName AS b ON a.StaffUSI = b.StaffUSI
 LEFT JOIN EdFi.GenerationCodeSuffixType AS c ON b.GenerationCodeSuffixTypeId = c.GenerationCodeSuffixTypeId
 LEFT JOIN EdFi.PersonalTitlePrefixType AS d ON a.PersonalTitlePrefixTypeId = d.PersonalTitlePrefixTypeId
 LEFT JOIN EdFi.OtherNameType AS ont ON b.OtherNameTypeId = ont.OtherNameTypeId
 ORDER BY a.StaffUSI 

########AddressTemplate########
		<Address AddressType="--AddressType--">
			<StreetNumberName>--StreetNumberName--</StreetNumberName>
			<ApartmentRoomSuiteNumber>--ApartmentRoomSuiteNumber--</ApartmentRoomSuiteNumber>
			<BuildingSiteNumber>--BuildingSiteNumber--</BuildingSiteNumber>
			<City>--City--</City>
			<StateAbbreviation>--StateAbbreviation--</StateAbbreviation>
			<PostalCode>--PostalCode--</PostalCode>
			<NameOfCounty>--NameOfCounty--</NameOfCounty>
			<CountyFIPSCode>--CountyFIPSCode--</CountyFIPSCode>
			<CountryCode>--CountryCode--</CountryCode>
			<Latitude>--Latitude--</Latitude>
			<Longitude>--Longitude--</Longitude>
			<BeginDate>--BeginDate--</BeginDate>
			<EndDate>--EndDate--</EndDate>
		</Address>

########AddressQuery########
SELECT StaffUSI 
	,at.CodeValue as AddressType 
	,StreetNumberName 
	,ApartmentRoomSuiteNumber 
	,BuildingSiteNumber 
	,City 
	,sat.CodeValue as StateAbbreviation 
	,PostalCode 
	,NameOfCounty 
	,CountyFIPSCode 
	,cct.CodeValue as CountryCode
	,Latitude 
	,Longitude 
	,BeginDate 
	,EndDate 
FROM  edfi.StaffAddress as sa
LEFT JOIN edfi.StateAbbreviationType as sat on sa.StateAbbreviationTypeId = sat.StateAbbreviationTypeId
LEFT JOIN edfi.AddressType as at on at.AddressTypeId = sa.AddressTypeId
LEFT JOIN edfi.CountryCodeType as cct on sa.CountryCodeTypeId = cct.CountryCodeTypeId
ORDER BY StaffUSI

#######TelephoneTemplate#######
		<Telephone TelephoneNumberType="--TelephoneNumberType--" PrimaryTelephoneNumberIndicator="--PrimaryTelephoneNumberIndicator--">
			<TelephoneNumber>--TelephoneNumber--</TelephoneNumber>
		</Telephone>

#######TelephoneQuery#######
 select a.StaffUSI
	,c.CodeValue as TelephoneNumberType
	,b.PrimaryTelephoneNumberIndicator
	,b.TelephoneNumber
from edfi.Staff a 
 left join edfi.StaffTelephone b on a.StaffUSI = b.StaffUSI
 left join edfi.TelephoneNumberType c on b.TelephoneNumberTypeId = c.TelephoneNumberTypeId
 order by a.StaffUSI 


#######ElectronicMailTemplate#######
		<ElectronicMail EmailAddressType="--EmailAddressType--">
			<EmailAddress>--EmailAddress--</EmailAddress>
		</ElectronicMail>


#######ElectronicMailQuery#######
 SELECT a.StaffUSI
	,h.ElectronicMailAddress as EmailAddress
	,i.CodeValue as EmailAddressType 
 FROM EDFI.Staff as a 
 LEFT JOIN edfi.StaffElectronicMail as h on a.StaffUSI = h.StaffUSI 
 LEFT JOIN edfi.ElectronicMailType as i on h.ElectronicMailTypeId = i.ElectronicMailTypeId 
 ORDER BY a.StaffUSI


#######RacialCategoryTemplate#######
			<RacialCategory>--RacialCategory--</RacialCategory>


#######RacialCategoryQuery#######
select a.StaffUSI
	,rt.CodeValue as RacialCategory
FROM 	edfi.Staff as a  
LEFT JOIN edfi.StaffRace as sr on sr.StaffUSI = sr.StaffUSI
LEFT JOIN edfi.RaceType as rt on sr.RaceTypeId = rt.RaceTypeId
WHERE a.TeacherUSI is not null 
ORDER BY a.StaffUSI 

#######CredentialsTemplate#######
 		<Credentials>
			<CredentialType>--CredentialType--</CredentialType>
			<CredentialField id="ID_2" ref="ID_1">
==CredentialsCodeValue==
			</CredentialField>
			<Level>--Level--</Level>
			<TeachingCredentialType>--TeachingCredentialType--</TeachingCredentialType>
			<CredentialIssuanceDate>--CredentialIssuanceDate--</CredentialIssuanceDate>
			<CredentialExpirationDate>--CredentialExpirationDate--</CredentialExpirationDate>
			<TeachingCredentialBasis>--TeachingCredentialBasis--</TeachingCredentialBasis>
		</Credentials>

#######CredentialsQuery#######
SELECT a.StaffUSI 
	,c.CodeValue as CredentialType 
	,d.CodeValue as Level 
	,g.CodeValue as TeachingCredentialType
     ,b.CredentialIssuanceDate
     ,b.CredentialExpirationDate
     ,h.CodeValue as TeachingCredentialBasis
     FROM edfi.Staff AS a
     LEFT JOIN edfi.Credential AS b ON a.StaffUSI = b.StaffUSI 
     LEFT JOIN edfi.CredentialType c ON b.CredentialTypeId = c.CredentialTypeId
     LEFT JOIN edfi.LevelType AS d ON b.LevelTypeId = d.LevelTypeId
     LEFT JOIN edfi.TeachingCredentialType  AS g ON b.TeachingCredentialTypeId = g.TeachingCredentialTypeId
     LEFT JOIN edfi.TeachingCredentialBasisType AS h ON b.TeachingCredentialBasisTypeId = h.TeachingCredentialBasisTypeId 
WHERE a.TeacherUSI is not null 
ORDER BY a.StaffUSI 
 
#######CredentialsCodeValueTemplate#######
 				<CodeValue>--CodeValue--</CodeValue>


#######CredentialsCodeValueQuery#######
select s.StaffUSI
	,cfd.CodeValue
from edfi.Staff as s
left join edfi.Credential AS c ON s.StaffUSI = c.StaffUSI
left join edfi.CredentialFieldDescriptor as cfd on cfd.CredentialFieldDescriptorId = c.CredentialFieldDescriptorId
