<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd" xmlns:core="http://www.milyn.org/xsd/smooks/smooks-core-1.4.xsd"
  xmlns:jb="http://www.milyn.org/xsd/smooks/javabean-1.3.xsd" xmlns:camel="http://www.milyn.org/xsd/smooks/camel-1.4.xsd"
  xmlns:csv="http://www.milyn.org/xsd/smooks/csv-1.2.xsd">

  <params>
    <param name="stream.filter.type">SAX</param>
    <param name="terminate.on.visitor.exception">false</param>
  </params>

  <csv:reader
    fields="id,AssessmentFamilyTitle,
        AssessmentFamilyIdentificationCode_IdentificationSystem,AssessmentFamilyIdentificationCode_AssigningOrganizationCode,AssessmentFamilyIdentificationCode_ID,
        AssessmentCategory,AcademicSubject,GradeLevelAssessed,LowestGradeLevelAssessed,ContentStandard,Version,RevisionDate,Nomenclature,
        AssessmentPeriods_id,AssessmentPeriods_ref,AssessmentPeriods_CodeValue,AssessmentPeriods_ShortDescription,AssessmentPeriods_Description,
        AssessmentFamilyReference_id,AssessmentFamilyReference_ref,
        AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyIdentificationCode_IdentificationSystem,
        AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyIdentificationCode_AssigningOrganizationCode,
        AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyIdentificationCode_ID,
        AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyTitle,
        AssessmentFamilyReference_AssessmentFamilyIdentity_Version">
  </csv:reader>

  <jb:bean beanId="record" class="org.slc.sli.ingestion.NeutralRecord" createOnElement="csv-record">
    <jb:expression property="recordType">'AssessmentFamily'</jb:expression>

    <jb:value property="localId" data="AssessmentFamilyTitle" />
    <jb:wiring property="attributes" beanIdRef="AssessmentFamilyAttributes" />
  </jb:bean>

  <jb:bean beanId="AssessmentFamilyAttributes" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="id" data="csv-record/id" />
    <jb:value property="AssessmentFamilyTitle" data="csv-record/AssessmentFamilyTitle" />

    <jb:wiring property="AssessmentFamilyIdentificationCode" beanIdRef="AssessmentFamily_AssessmentIdentificationCodeArray" />

    <jb:value property="AssessmentCategory" data="csv-record/AssessmentCategory" />
    <jb:value property="AcademicSubject" data="csv-record/AcademicSubject" />
    <jb:value property="GradeLevelAssessed" data="csv-record/GradeLevelAssessed" />
    <jb:value property="LowestGradeLevelAssessed" data="csv-record/LowestGradeLevelAssessed" />
    <jb:value property="ContentStandard" data="csv-record/ContentStandard" />
    <jb:value property="Version" data="csv-record/Version" />
    <jb:value property="RevisionDate" data="csv-record/RevisionDate" />
    <jb:value property="Nomenclature" data="csv-record/Nomenclature" />
    <jb:wiring property="AssessmentPeriods" beanIdRef="AssessmentFamily_AssessmentPeriodArray" />

    <jb:wiring property="AssessmentFamilyReference" beanIdRef="AssessmentFamilyReferenceType" />

  </jb:bean>

  <jb:bean beanId="AssessmentFamily_AssessmentIdentificationCodeArray" class="java.util.ArrayList"
    createOnElement="csv-record">
    <jb:wiring beanIdRef="AssessmentFamily_AssessmentIdentificationCode" />
  </jb:bean>

  <jb:bean beanId="AssessmentFamily_AssessmentIdentificationCode" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="ID" data="csv-record/AssessmentFamilyIdentificationCode_ID" />
    <jb:value property="IdentificationSystem" data="csv-record/AssessmentFamilyIdentificationCode_IdentificationSystem" />
    <jb:value property="AssigningOrganizationCode" data="csv-record/AssessmentFamilyIdentificationCode_AssigningOrganizationCode" />
  </jb:bean>


  <jb:bean beanId="AssessmentFamily_AssessmentPeriodArray" class="java.util.ArrayList" createOnElement="csv-record">
    <jb:wiring beanIdRef="AssessmentFamily_AssessmentPeriodType" />
  </jb:bean>

  <jb:bean beanId="AssessmentFamily_AssessmentPeriodType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:value property="id" data="csv-record/AssessmentPeriods_id" />
    <jb:value property="ref" data="csv-record/AssessmentPeriods_ref" />
    <jb:value property="CodeValue" data="csv-record/AssessmentPeriods_CodeValue" />
    <jb:value property="ShortDescription" data="csv-record/AssessmentPeriods_ShortDescription" />
    <jb:value property="Description" data="csv-record/AssessmentPeriods_Description" />
  </jb:bean>

  <jb:bean beanId="AssessmentFamilyReferenceType" class="java.util.HashMap" createOnElement="csv-record">
    <jb:wiring property="AssessmentFamilyIdentity" beanIdRef="AssessmentFamilyIdentityType" />
    <jb:value property="id" data="csv-record/AssessmentFamilyReference_id" />
    <jb:value property="ref" data="csv-record/AssessmentFamilyReference_ref" />
  </jb:bean>

  <jb:bean beanId="AssessmentFamilyIdentityType" class="java.util.HashMap" createOnElement="csv-record">

    <jb:wiring property="AssessmentFamilyIdentificationCode" beanIdRef="AssessmentFamily_Reference_AssessmentIdentificationCodeArray" />

    <jb:value property="AssessmentFamilyTitle" data="csv-record/AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyTitle" />

    <jb:value property="Version" data="csv-record/AssessmentFamilyReference_AssessmentFamilyIdentity_Version" />

  </jb:bean>

  <jb:bean beanId="AssessmentFamily_Reference_AssessmentIdentificationCodeArray" class="java.util.ArrayList"
    createOnElement="csv-record">
    <jb:wiring beanIdRef="AssessmentFamily_Reference_AssessmentIdentificationCode" />
  </jb:bean>

  <jb:bean beanId="AssessmentFamily_Reference_AssessmentIdentificationCode" class="java.util.HashMap"
    createOnElement="csv-record">
    <jb:value property="ID"
      data="csv-record/AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyIdentificationCode_ID" />
    <jb:value property="IdentificationSystem"
      data="csv-record/AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyIdentificationCode_IdentificationSystem" />
    <jb:value property="AssigningOrganizationCode"
      data="csv-record/AssessmentFamilyReference_AssessmentFamilyIdentity_AssessmentFamilyIdentificationCode_AssigningOrganizationCode" />
  </jb:bean>

</smooks-resource-list>