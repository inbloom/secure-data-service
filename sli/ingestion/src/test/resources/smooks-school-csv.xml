
<smooks-resource-list 
   xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd"
   xmlns:core="http://www.milyn.org/xsd/smooks/smooks-core-1.4.xsd"
   xmlns:jb="http://www.milyn.org/xsd/smooks/javabean-1.3.xsd"
   xmlns:camel="http://www.milyn.org/xsd/smooks/camel-1.4.xsd"
   xmlns:csv="http://www.milyn.org/xsd/smooks/csv-1.2.xsd"
   >
   
   <params>
      <param name="stream.filter.type">SAX</param>
      <param name="terminate.on.visitor.exception">false</param>
   </params>

   <csv:reader fields="SchoolId,StateOrganizationId,$ignore$2,NameOfInstitution,$ignore$+">
   </csv:reader>

   <jb:bean beanId="record" class="org.slc.sli.ingestion.NeutralRecord"
      createOnElement="csv-record">
		
      <jb:expression property="recordType">'School'</jb:expression>
      <jb:value property="localId" data="csv-record/StateOrganizationId" decoder="Long" />
      <jb:wiring property="attributes" beanIdRef="schoolAttributes" />
   </jb:bean>
	
   <jb:bean beanId="schoolAttributes" class="java.util.HashMap" 
      createOnElement="csv-record">
	    
      <!-- Testing Only -->
      <jb:value property="schoolId" data="csv-record/SchoolId" decoder="Long" />  
          
      <jb:value property="fullName" data="csv-record/NameOfInstitution" />
   </jb:bean>
 
</smooks-resource-list>