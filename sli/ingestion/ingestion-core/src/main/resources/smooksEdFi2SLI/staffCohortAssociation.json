{
    "keyFields" : ["body.staffId","body.cohortId", "body.beginDate"],
    "references" :
    [{
        "fieldPath" : "body.staffId",
        "ref" :
        {
            "entityType" : "staff",
            "isRefList" : true,
            "refObjectPath" : "body.staffReference",
            "takesContext" : ["edOrgs"],
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.staffUniqueStateId",
                        "values" :
                        [{
                            "valueSource" : "body.staffReference.staffIdentity.staffUniqueStateId"
                        }]
                    }
                ]
            ]
        }
    },
    {
        "fieldPath" : "body.cohortId",
        "ref" :
        {
            "entityType" : "cohort",
            "isRefList" : true,
            "refObjectPath" : "body.cohortReference",
            "choiceOfFields" :
            [
                [
                    {
                        "path" : "body.cohortIdentifier",
                        "values" :
                        [
                            {"valueSource" : "body.cohortReference.cohortIdentity.cohortIdentifier"}
                        ]
                    },
                    {
                        "path" : "body.educationOrgId",
                        "values" :
                        [
                            {"ref" :
                                {
                                    "entityType" : "educationOrganization",
                                    "takesContext" : ["edOrgs"],
                                    "choiceOfFields" :
                                    [[
                                        {
                                            "path" : "body.stateOrganizationId",
                                            "values":
                                            [
                                                {"valueSource": "body.cohortReference.cohortIdentity.stateOrganizationId"}
                                            ]
                                        }
                                    ]]
                                }
                            }
                        ]
                    }
                ]
            ]
        }
    }]
}

